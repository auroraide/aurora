image: blang/latex

before_script:
  - apt-get update -qq && apt-get install -y -qq build-essential plantuml wget
  - wget http://doclet.github.io/resources/bin/TeXDoclet.jar

entwurfsdokument:
  script:
    - cd docs/entwurf/tex && latexmk -f -pdf Entwurf.tex
    - javadoc -output docs/entwurf/tex/classes.tex -docletpath TeXDoclet.jar -doclet org.stfm.texdoclet.TeXDoclet $(find src -name '*.java')
    - cd docs/entwurf/tex && pdflatex -output-directory=out classes.tex
  artifacts:
    paths:
      - "docs/entwurf/tex/Entwurf.pdf"
      - "docs/entwurf/tex/out/classes.pdf"
