image: blang/latex

before_script:
  - apt-get update -qq && apt-get install -y -qq build-essential plantuml wget openjdk-8-jdk maven git
  - (git clone https://github.com/younishd/texdoclet.git && cd texdoclet && mvn clean install)

entwurfsdokument:
  script:
    - cd docs/entwurf/tex && latexmk -f -pdf Entwurf.tex
    - javadoc -output Classes.tex -docletpath ../../../texdoclet/target/TeXDoclet.jar -doclet org.stfm.texdoclet.TeXDoclet $(find ../../../src -name '*.java')
    - pdflatex Classes.tex && pdflatex Classes.tex
  artifacts:
    paths:
      - "docs/entwurf/tex/Entwurf.pdf"
      - "docs/entwurf/tex/Classes.pdf"
      - "docs/entwurf/tex/Classes.tex"
