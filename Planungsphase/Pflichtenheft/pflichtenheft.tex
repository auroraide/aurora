\documentclass[parskip=full,11pt,twoside]{scrartcl}
\usepackage[utf8]{inputenc}

\begin{titlepage}

\subject{Pflichtenheft}
\title{$\lambda$urora}
\subtitle{The Lambda Calculus IDE}


\author{Julia Patrusheva, Alexander von Heyden\\
Younis Bensalah, Max Nowak\\
Nikolai Polley, Randy Seng}

\end{titlepage}


% section numbers in margins:
\renewcommand\sectionlinesformat[4]{\makebox[0pt][r]{#3}#4}

% header & footer
\usepackage{scrlayer-scrpage}
\lofoot{\today}
\refoot{\today}
\pagestyle{scrheadings}

\usepackage[sfdefault,light]{roboto}
\usepackage[T1]{fontenc}
\usepackage[german]{babel}
\usepackage[yyyymmdd]{datetime} % must be after babel
\renewcommand{\dateseparator}{-} % ISO8601 date format
\usepackage{hyperref}
\usepackage[nameinlink]{cleveref}
\crefname{figure}{Abb}{Abb}
\usepackage[section]{placeins}
\usepackage{xcolor}
\usepackage{graphicx}
\hypersetup{
	pdftitle={Pflichtenheft},
	bookmarks=true,
}
\usepackage{csquotes}

\usepackage{amsmath} % for $\text{}$
\newcommand\urlpart[2]{$\underbrace{\text{\texttt{#1}}}_{\text{#2}}$}

\usepackage{pflichtenheft}


\begin{titlepage}

\subject{Pflichtenheft}
\title{$\lambda$urora}
\subtitle{The Lambda Calculus IDE}


\author{Julia Patrusheva, Alexander von Heyden\\
Younis Bensalah, Max Nowak\\
Nikolai Polley, Randy Seng}

\end{titlepage}




\begin{document}
\maketitle
\tableofcontents

\section{Einleitung}


\pagebreak
\section{Kriterien}
% Diese Section sollte kurz und knapp "für Manager" sein
% und auf eine Seite passen.

\subsection{Musskriterien}

%\criterium{Schnelle Weiterleitung Kurz- zu Lang-URL}{crt:fast}

\criterium{$\lambda$-Term auswerten}{crt:evaluate-term}

\criterium{Text-Editor zur Eingabe}{crt:text-editor}

\criterium{Ausgabe des Ergebnisses, beim Auswerten eines $\lambda-Term$}{crt:output-solution}

\criterium{Sprache der Applikation ist Englisch}{crt:language}

\criterium{Applikation funktioniert auf dem Webbrowser \enquote{Google Chrome}}{crt:default-browser}

\criterium{Auswertungsstrategie bei $\beta$-Reduktion von $\lambda$-Termen ist Normalenreihenfolge}{crt:eval-strategy}

\criterium{Architektur soll einfaches hinzufügen neuer, menschlicher Sprachen unterstützen}{crt:architecture-language}



\subsection{Wunschkriterien}
%\criteriumOptional{Seite mit Betreiberinfo}{crt:about}

%Der Dienst bietet eine Seite \enquote{Über Uns},
%mit Informationen zum Betreiber.

\criteriumOptional{Erkennen von Schleifen während der Auswertung}{crt:loop-detection}


\subsection{Abgrenzungskriterien}

\criteriumNot{Keine Server-Komponente.}{crt:no-server-side}
\criteriumNot{Berechnungen laufen Client-seitig.}{crt:client-side}
\criteriumNot{Kein typisiertes $\lambda$-Kalkül.}{crt:no-typed-calculus}
\criteriumNot{Applikation bietet keine Projekt-Unterstützung.}{crt:no-projects}

\pagebreak
%%%%%%%%%%%%%%
\section{Produkteinsatz}


\section{Produktumgebung}


%%%%%%%%%%%
\section{Funktionale Anforderungen}

\functionality{Der Benutzer kann eine laufende Berechnung über einen \enquote{Stop}-Button vorzeitig beenden.}{fnc:stop-exec}
\functionality{Ein vom Benutzer eingegebenes Programm kann potentiell unendlich laufen.}{fnc:run-no-timeout}

\functionality{Eine ausgeführte Benutzereingabe, wird automatisch in die Historie eingefügt.}{fnc:localstorage-autosave}
\functionality{Einträge in der Historie werden nach schließen des Browsers nicht gelöscht.}{fnc:localstorage-permanent}
\functionality{Der Benutzer kann Eingaben aus der Historie wiederherstellen.}{fnc:localstorage-restore}
\functionality{Der Benutzer kann die Einträge in der Historie löschen.}{fnc:localstorage-flush}
\functionality{Eine vom Benutzer definierte Funktion wird automatisch in die Historie eingefügt.}{fnc:localstorage-userlib}

\functionality{In jedem Schritt wird der nächste auszuwertende Redex farblich hinterlegt.}{fnc:highlight-next}
\functionality{In jedem Schritt wird der zuletzt auszuwertende Redex farblich hinterlegt.}{fnc:highlight-previous}

\functionality{Das äußere Erscheinungsbild der Applikation kann über die \enquote{Night mode}-Funktion zu einem dunklen Farbschema geändert werden.}{fnc:night-mode}
\functionality{Night mode kann über das Hamburger-Menü ein- und ausgestellt werden.}{fnc:night-mode-toggle}

\functionality{Der Benutzer kann Funktionen aus der Standardbibliothek im Eingabefeld verwenden.}{fnc:stdlib}
\functionality{Funktionen aus der Standardbibliothek haben einen Namen und eine Definition ($\lambda$-Term).}{fnc:func-name-def}
\functionality{Der Benutzer kann Funktionen zur Benutzerbibliothek hinzufügen.}{fnc:userlib}
\functionality{Funktionen aus der Benutzerbibliothek können analog zu Funktionen der Standardbibliothek verwendet werden.}{fnc:user-vs-std}
\functionality{Die Eingabe von definierten Funktionen ist semantisch äquivalent zur Eingabe deren entsprechenden Definition als $\lambda$-Term.}{fnc:func-lambda-equivalent}
\functionality{Eine definierte Funktion der Standardbibliothek oder Benutzerbibliothek entspricht genau einem $\lambda$-Term.}{fnc:func-assoc-def}

\functionality{Der Benutzer kann $\lambda$-Terme über das Eingabefeld eingeben.}{fnc:input}
\functionality{Der Benutzer kann den Inhalt das Eingabefelds bearbeiten.}{fnc:editor}
\functionality{Der Benutzer kann die Berechnung des $\lambda$-Terms über den \enquote{Run}-Button starten.}{fnc:run}
\functionality{Die \enquote{Run}-Funktion liest $\lambda$-Terme über das Eingabefeld ein.}{fnc:run-input}
\functionality{Der Benutzer kann das Eingabefeld nicht editieren, während die Berechnung am laufen ist.}{fnc:no-edit-while-running}
\functionality{Falls die Berechnung terminiert, steht das Ergebnis im Ausgabefeld.}{fnc:output}
\functionality{Der Inhalt des Ausgabefelds kann nicht bearbeitet werden.}{fnc:output-readonly}



\subsection{Eingabe}
\functionality{Textfeld}
\functionality{Shortcuts}
\functionality{Auto-complete}
\functionality{Highlightning Lambda}
\functionality{Highlightning Text}


\subsection{Darstellungen}
\functionality{DarkModus}
\functionality{Tutorial zur Web App}



%\functionality{Login-Möglichkeit auf Homepage}{fnc:login}
%\fulfills{crt:login}
%\fulfills{crt:github}

%Auf der Homepage \texttt{http://atu.rl/} sieht ein Besucher
%einen \enquote{Login via Facebook} Knopf.
%Weitere Knöpfe wie \enquote{Login via Github} sind möglich.
%Siehe \cref{fig:homepage}.



%%%%%%%%%%%
\section{Nicht-Funktionale Anforderungen}

%\nonFunctionality{Modernes Design}{nfc:design}

%Das Design soll modern und seriös wirken.



%%%%%%%%%%%
\section{Tests}


%\tests{fnc:impressum-link}
%\tests{fnc:datenschutz-link}
\teststep {Das Programm liegt auf einem Server}
{Der Benutzer tippt den link des Programms \texttt{aurora.kit.edu} in den Browser \enquote {Google Chrome} }
{ Die Webseite wird geöffnet und wird korrekt dargestellt je nach Browserauflösung}

\teststep {Das Programm ist geöffnet und es ist im Default-State}
{ Der Benutzer gibt in den Editor \enquote {($\lambda$ x.x) z } ein. Dannach drückt er auf den Button \enquote {Run}}
{ Das Programm führt eine Beta-Reduktion aus und gibt als Ausgabe \enquote {z} aus. Es wird auch angezeigt, dass es nur eine Beta-Reduktion durchgeführt hat.}

\teststep {Das Programm ist geöffnet und es ist im Default-State}
{Der Benutzer gibt den Term \enquote {$\lambda$ x.x} in das Eingabefeld ein und drückt auf run}
{Das Programm kann keine Beta-Reduktion durchführen und gibt als Ausgabe $\lambda$ x.x}

\teststep {Das Programm ist geöffnet und findet sich im Default-State. An der rechten seite ist die Standardfunktionsbibliothek implementiert }
{Der Benutzer gibt in den Editor \enquote {plus 2 2} ein und drückt auf den Buttorn \enquote {Run}}
{ Das Programm erkennt das Wort \enquote {plus} aus der Standardbibliothek und ersetzt es durch \enquote {$\lambda$n.$\lambda$m.$\lambda$s.$\lambda$z.n s (m s z)} die 2en erkennt er jeweils als die Churchzahl 2 und ersetzt sie durch \enquote {$\lambda$s.$\lambda$z.s(s z)}. Dann führt das Programm Beta-Reduktion aus und bekommt als Ergebnis\enquote {$\lambda$s.$\lambda$z. (s (s (s (s z))))} dies erkennt er ist die Churchzahl 4 und gibt dies aus. }

\teststep { Der vorherige Test wurde soeben durchgeführt}
{ Der Benutzer drückt auf die drei Punkte um alle Schritte zu sehen die bei der Beta Reduktion durchgeführt wurden }
{ Das Programm zeigt folgende Schritte :
\newline ($\lambda$n.$\lambda$m.$\lambda$s.$\lambda$z.n s (m s z)) ($\lambda$s.$\lambda$z.s(s z)) ($\lambda$s.$\lambda$z.s(s z))
\newline ($\lambda$m.$\lambda$s.$\lambda$z.($\lambda$s.$\lambda$z.s(s z)) s (m s z)) ($\lambda$s.$\lambda$z.s(s z))
\newline $\lambda$s.$\lambda$z.($\lambda$s.$\lambda$z.s(s z)) s (($\lambda$s.$\lambda$z.s(s z)) s z)
\newline $\lambda$s.$\lambda$z.($\lambda$z.s(s z)) (($\lambda$s.$\lambda$z.s(s z)) s z)
\newline $\lambda$s.$\lambda$z. ( s ( s (($\lambda$s.$\lambda$z.s(s z)) s z) ))
\newline $\lambda$s.$\lambda$z. ( s ( s (($\lambda$z.s(s z)) z) ))
\newline $\lambda$s.$\lambda$z. ( s ( s ( s (s z))))
 }

\teststep{Das Programm ist im Default-State}
{der Benutzer gibt in den Editor ($\lambda$x.xx)($\lambda$x.xx) ein }
{ das Programm erkennt die Endlosschleife und warnt den Benutzer }

\teststep {Das Programm ist im Default-State}
{ Der Benutzer drückt auf den \enquote {Plus} Button und gibt \enquote {pair} und $\lambda$a.$\lambda$b.$\lambda$f.f a b ein }
{Wenn er auf den Button drückt öffnet sich ein Popup-Fenster in dem der Benutzer als Name der neuen Funktion Pair eingeben kann und als lambda term den von ihm gewünschten lambda term eingibt. Dieser Name wird mit dem Lambdaterm gespeichert und man kann im Editor anstelle des Lambdaterms den Namen eingeben. }

\teststep { Der vorherige Test wurde ausgeführt}
{ der Benutzer gibt in den Editor \enquote {fst (pair a b)} ein. Dannach drückt er auf Run}
{ Das Programm erkennt fst aus seiner Standardbibliothek und ihm ist $\lambda$p.p($\lambda$a.$\lambda$b.a) zugewiesen. Das Programm erkennt pair aus dem im letzten Testfall hinzugefügten Lambdaterm und kann nun Beta-Reduktion druchführen. Das Programm gibt als Ergebnis a aus.}

\teststep {Das Programm berechnet zurzeit einen Lambdaterm }
{Der Benutzer drückt auf den Stopp-Button}
{ Das Programm beendet die Berechnung und gibt kein Ergebnis aus }

\teststep {Im Editor steht der Term ($\lambda$t.$\lambda$f.f)(($\lambda$y.($\lambda$x.x x))(($\lambda$x.x)($\lambda$x.x)))($\lambda$t.$\lambda$f.f) }
{Der Benutzer benutzt den Step-Button einmal mit Normalenreihenfolge  und einmal mit der Auswertungsstrategie Call-By-Value welche in den Einstellungen zu finden ist}
{ Bei der Normalenreihenfolge wird der Redex ($\lambda$t.$\lambda$f.f) als erstes reduziert. bei der Auswertungsstrategie wird der Term ($\lambda$x.x) als erstes reduziert }

\teststep { Das Programm ist im Default-State}
{ Der Benutzer gibt ($\lambda$y.$\lambda$x.y x) x a in den Editor ein und drückt auf Run}
{ Durch die Alphakonversion mit De Bruijn Indizes ist das Ergebnis nicht a  a  }

\teststep {Das Programm hat einen Lambda-Term im Editor stehen} { Der Benutzer drückt auf einen Redex}
{ Dieser Redex wird als nächstes ausgewertet unabhängig davon welche Auswertungsstrategie ausgewählt ist. }

\teststep { Das Programm ist im Default-State}
{ Der Benutzer gibt den (($\lambda$x.x)( in den Editor ein }
{ Das Programm gibt die Fehlermeldung aus, dass dies kein gültiger LambdaTerm ist }

\teststep { Das Programm ist im Default -State }
{ Der Benutzer drückt shift l }
{Im Editor erscheint ein $\lambda$}

\teststep {Das Programm hat einen Lambdaterm ausgerechntet}
{ Der Benutzer drückt auf den Share button und wählt copy-link}
{ Eine gekürzte Url wird in sein Clipboard gespeichert }

\teststep {Der Benutzer hat von vorherigem Test eine Url erhalten}
{Der Benutzer gibt den Link in seine URL Leiste ein }
{ Das Programm öffnet sich mit dem LambdaTerm bereits in der Eingabe }

\teststep {Das Programm ist im Default-State}
{ Der Benutzer gibt sub 1 1 ein und drückt auf Run }
{ Das Programm erkennt die funktion substraction und die churchzahlen und gibt als ergebnis 0 aus. Da das Programm nicht erkennen kann ob es die Churchzahl 0 oder der boolean false ist gibt es immer 0 aus. Im Tutorial des Programmes wird das dem Benutzer erläutert }




%\teststep{Besucher \enquote{Jayne Cobb} ist auf der Homepage}
%{Er folgt dem Link mit dem Text \enquote{Datenschutz}}
%{Ein Text mit allen Datenschutzinformationen wird ihm angezeigt.}

%\teststep{}
%{Jayne folgt dem Link mit dem Text \enquote{Impressum}}
%{Ein Text mit Informationen des Betreibers wird ihm angezeigt.}

\section{Entwicklungsumgebung}

%%%%%%%%%%%%%
\pagebreak
\appendix

\section{Seitenentwürfe}

% made via https://gomockingbird.com/projects/mnf0cwf/4gXVnC

%\begin{figure}[hb]
%\fbox{\includegraphics[width=\textwidth]{image/login.png}}
%\caption{\label{fig:homepage}
%Homepage mit Login-Funktion
%}
%\end{figure}


\section{Glossar}

%\textbf{Homepage}:
%Seite, die beim Besuchen der Betreiberdomain \emph{ohne Pfad} angezeigt wird. Auch %\enquote{Startseite}.
\textbf{Standardbibliothek} :
Eine Ansammlung von Lambdatermen die einen Funktionsnamen bekommen haben. Die Entwickler von Aurora haben die wichtigsten Lambdaterme zusammen getragen damit der Benutzer häufig vorkommende Lambdaterme nicht selber tippen muss. Der Benutzer kann den Namen der Funktion im Editor verwenden und das Programm ersetzt den Namen automatisch in den gewählten Lambdaterm.

\textbf{Benutzerbibliothek}
Der Benutzer kann selber Funktionen mit Namen und Lambdaterm definieren. er kann dann den gewählten Namen im Editor verwenden und der Name wird automatisch durch den Lambdaterm ersetzt.

\textbf {Redex}
Redex steht für \enquote{reducible expression} oder auf deutsch \enquote{reduzibler Ausdruck} ist ein Subterm der durch die Auswertungsstrategien mit Beta-Reductionen reduzierbar sind. 
Bei dem Term ($\lambda$x.x) y ist der ($\lambda$x.x) der Redex.

\textbf{Normalenform}
Die Normalenform ist ein $\lambda$-term der nicht mehr durch Betareduktion reduzierbar ist. Dies wird im Programm als \enquote{Result} ausgegeben

\end{document}
